Scripts to fix metadata in photos generated by the stock camera app of **vivo X300**

This company apparently likes to encode information in a standards-unorthodox manner.

## Overview

Each of these scripts works in batch on an entire directory tree that contains image files in various subdirectories.

1. Move metadata about the internal camera state to the XMP MakerNote field, and leave the EXIF UserComment blank for user input

	The UserComment field is meant for the *user*'s comments, not the camera maker's, and in any case the data is encoded incorrectly for said field; it is meant to be UTF-16 and prepended with an 8-byte identifier, but the stock software does neither of these, and instead simply writes plain UTF-8 into the field.

	The MakerNote field on the other is intended to contain the camera maker's notes.

2. Make metadata available for RAW files, not just JPEG

	For whatever reason, the stock camera app does not write any metadata into the RAW DNG files.

	This looks for an accompanying JPEG file, that does contain metadata about the photo, and copies it into an XMP sidecar file (with the notion that original RAW files should not be directly edited most of the time) which makes it available to photo management software like Lightroom.

3. Extracts motion photos to give the photo and video as standalone files

	This should only be run if you *do* want to have such standalone files.

	This one is not a defect of vivo's software, but it would have been nice if there was a properly documented way to do this outside of their stock image gallery app.

## Dependencies

**[exiftool](https://exiftool.org/)** must be installed.

For `vivo-x300-3-extract-live-photos.sh`, **Python** and the package **`motionminer`** are required.

This package exists on PyPI, but the version required has been patched to allow extracting standalone (non-motion) photos in addition to the embedded videos. This is available from https://github.com/yushiyangk/MotionMiner/tree/photo until such time as it gets merged by the maintainer.

To intall this dependency, the recommended way is to use [pipx](https://github.com/pypa/pipx). Assuming that the patched version of motionminer has been cloned locally as is the current working directory, run

```
pipx install .
```

## Usage

Change the ALLCAPS variables at the top of each script as necessary.
